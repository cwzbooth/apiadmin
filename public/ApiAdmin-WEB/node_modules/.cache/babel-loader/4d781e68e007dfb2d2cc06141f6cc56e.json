{"remainingRequest":"/www/wwwroot/apiadmin.fmoons.com/public/ApiAdmin-WEB/node_modules/babel-loader/lib/index.js!/www/wwwroot/apiadmin.fmoons.com/public/ApiAdmin-WEB/node_modules/cache-loader/dist/cjs.js??ref--0-0!/www/wwwroot/apiadmin.fmoons.com/public/ApiAdmin-WEB/node_modules/vue-loader/lib/index.js??vue-loader-options!/www/wwwroot/apiadmin.fmoons.com/public/ApiAdmin-WEB/src/view/wiki/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/www/wwwroot/apiadmin.fmoons.com/public/ApiAdmin-WEB/src/view/wiki/list.vue","mtime":1596016298727},{"path":"/www/wwwroot/apiadmin.fmoons.com/public/ApiAdmin-WEB/.babelrc","mtime":1596016298716},{"path":"/www/wwwroot/apiadmin.fmoons.com/public/ApiAdmin-WEB/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/www/wwwroot/apiadmin.fmoons.com/public/ApiAdmin-WEB/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/www/wwwroot/apiadmin.fmoons.com/public/ApiAdmin-WEB/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/www/wwwroot/apiadmin.fmoons.com/public/ApiAdmin-WEB/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport \"./list.less\";\nimport { apiGroup, detail, logout as _logout } from '@/api/wiki';\nimport { setToken } from '@/libs/util';\nimport ABackTop from '@/components/main/components/a-back-top';\nexport default {\n  name: 'wiki',\n  components: {\n    ABackTop: ABackTop\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      show_detail: false,\n      show_loading: false,\n      app_id: sessionStorage.getItem('ApiAdmin_AppInfo'),\n      code: '',\n      url: '',\n      groupInfo: [],\n      header_columns: [{\n        title: '参数名称',\n        key: 'field_name'\n      }, {\n        title: '类型',\n        render: function render(h, params) {\n          return h('Tag', {\n            props: {\n              'color': 'blue'\n            }\n          }, _this.detail_info.dataType[params.row.data_type]);\n        }\n      }, {\n        title: '字段状态',\n        render: function render(h, params) {\n          if (params.row.is_must === 1) {\n            return h('Tag', {\n              props: {\n                'color': 'red'\n              }\n            }, '复杂认证');\n          } else {\n            return h('Tag', {\n              props: {\n                'color': 'blue'\n              }\n            }, '简易认证');\n          }\n        }\n      }, {\n        title: '字段说明',\n        key: 'info',\n        width: 290,\n        render: function render(h, params) {\n          var text = params.row.info.substring(0, 20) + '...';\n\n          if (params.row.info.length >= 20) {\n            return h('Tooltip', {\n              props: {\n                transfer: true,\n                maxWidth: 200\n              }\n            }, [text, h('div', {\n              slot: 'content',\n              style: {\n                whiteSpace: 'normal',\n                wordBreak: 'break-all',\n                wordWrap: 'break-word'\n              }\n            }, params.row.info)]);\n          } else {\n            return h('span', params.row.info);\n          }\n        }\n      }],\n      request_columns: [{\n        title: '字段名称',\n        key: 'field_name'\n      }, {\n        title: '类型',\n        width: 100,\n        render: function render(h, params) {\n          return h('Tag', {\n            props: {\n              'color': 'blue'\n            }\n          }, _this.detail_info.dataType[params.row.data_type]);\n        }\n      }, {\n        title: '字段属性',\n        width: 100,\n        render: function render(h, params) {\n          if (params.row.is_must === 1) {\n            return h('Tag', {\n              props: {\n                'color': 'red'\n              }\n            }, '必填');\n          } else {\n            return h('Tag', {\n              props: {\n                'color': 'orange'\n              }\n            }, '选填');\n          }\n        }\n      }, {\n        title: '默认值',\n        key: 'default'\n      }, {\n        title: '字段说明',\n        key: 'info',\n        width: 290,\n        render: function render(h, params) {\n          var text = params.row.info.substring(0, 20) + '...';\n\n          if (params.row.info.length >= 20) {\n            return h('Tooltip', {\n              props: {\n                transfer: true,\n                maxWidth: 200\n              }\n            }, [text, h('div', {\n              slot: 'content',\n              style: {\n                whiteSpace: 'normal',\n                wordBreak: 'break-all',\n                wordWrap: 'break-word'\n              }\n            }, params.row.info)]);\n          } else {\n            return h('span', params.row.info);\n          }\n        }\n      }],\n      response_columns: [{\n        title: '字段名称',\n        key: 'show_name'\n      }, {\n        title: '类型',\n        render: function render(h, params) {\n          return h('Tag', {\n            props: {\n              'color': 'blue'\n            }\n          }, _this.detail_info.dataType[params.row.data_type]);\n        }\n      }, {\n        title: '字段说明',\n        key: 'info',\n        width: 290,\n        render: function render(h, params) {\n          var text = params.row.info.substring(0, 20) + '...';\n\n          if (params.row.info.length >= 20) {\n            return h('Tooltip', {\n              props: {\n                transfer: true,\n                maxWidth: 200\n              }\n            }, [text, h('div', {\n              slot: 'content',\n              style: {\n                whiteSpace: 'normal',\n                wordBreak: 'break-all',\n                wordWrap: 'break-word'\n              }\n            }, params.row.info)]);\n          } else {\n            return h('span', params.row.info);\n          }\n        }\n      }],\n      detail_info: {},\n      api_detail: {},\n      header_data: [],\n      co: ''\n    };\n  },\n  created: function created() {\n    this.getList();\n  },\n  methods: {\n    logout: function logout() {\n      var vm = this;\n\n      _logout().then(function (response) {\n        vm.$Message.success(response.data.msg);\n        setToken('');\n        sessionStorage.removeItem('ApiAdmin_AppInfo');\n        vm.$router.push({\n          name: 'wiki_login'\n        });\n      });\n    },\n    getList: function getList() {\n      var vm = this;\n      apiGroup().then(function (response) {\n        vm.groupInfo = response.data.data.data;\n        vm.co = response.data.data.co;\n      });\n    },\n    closeDrawer: function closeDrawer() {\n      this.getList();\n    },\n    showApiDetail: function showApiDetail(hash) {\n      var vm = this;\n      vm.show_loading = true;\n      detail({\n        hash: hash\n      }).then(function (response) {\n        var res = response.data.data;\n        vm.detail_info = res;\n        vm.show_detail = true;\n        vm.show_loading = false;\n        vm.url = res.url;\n        vm.api_detail = res.apiList;\n\n        if (res.apiList.return_str) {\n          vm.code = JSON.parse(res.apiList.return_str);\n        }\n\n        vm.header_data = [{\n          is_must: res.apiList.access_token,\n          field_name: 'access-token',\n          info: 'APP认证秘钥【请在Header头里面传递】',\n          data_type: 2\n        }];\n      });\n    }\n  }\n};",{"version":3,"sources":["list.vue"],"names":[],"mappings":"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","sourcesContent":["<style scoped>\n  .line-height-16 {\n    line-height: 30px;\n  }\n  .url {\n    width: 90%;\n    display: inline-block;\n  }\n</style>\n<template>\n  <Layout style=\"height: 100%\">\n    <Menu mode=\"horizontal\" theme=\"dark\" active-name=\"list\">\n      <div class=\"wiki-logo\"></div>\n      <div class=\"wiki-nav\">\n        <MenuItem name=\"list\" to=\"/wiki/list\">\n          <Icon type=\"md-list-box\" />\n          接口列表\n        </MenuItem>\n        <MenuItem name=\"error\" to=\"/wiki/error\">\n          <Icon type=\"logo-markdown\" />\n          错误码\n        </MenuItem>\n        <MenuItem name=\"calculation\" to=\"/wiki/calculation\">\n          <Icon type=\"ios-analytics\" />\n          算法详解\n        </MenuItem>\n        <Submenu name=\"4\">\n          <template slot=\"title\">\n            <Icon type=\"ios-contact\" />\n            {{app_id}}\n          </template>\n          <MenuItem name=\"4-1\" @click.native=\"logout\">\n            <Icon type=\"md-exit\" />\n            用户登出\n          </MenuItem>\n        </Submenu>\n      </div>\n    </Menu>\n    <Content class=\"wiki-content-con\">\n      <Card class=\"margin-top-15\">\n        <div>\n          <h3 class=\"line-height-16\">接口状态说明：</h3>\n          <p class=\"line-height-16\"><Tag color=\"warning\">测试</Tag>系统将不过滤任何字段，也不进行AccessToken的认证，但在必要的情况下会进行UserToken的认证！</p>\n          <p class=\"line-height-16\"><Tag color=\"primary\">启用</Tag>系统将严格过滤请求字段，并且进行全部必要认证！</p>\n          <p class=\"line-height-16\"><Tag color=\"error\">禁用</Tag>系统将拒绝所有请求，一般应用于危机处理！</p>\n        </div>\n      </Card>\n      <div class=\"wiki-layout-con\">\n        <Spin size=\"large\" fix v-if=\"show_loading\"></Spin>\n        <Collapse>\n          <Panel v-bind:key=\"index\" v-for=\"(item, index) in groupInfo\" :name=\"index.toString()\">\n            {{item.name}}【{{item.create_time}}】 <span style=\"float: right;\" class=\"margin-right-20\">接口数量{{item.api_info ? item.api_info.length : 0}} | 项目热度{{item.hot}}</span>\n            <p slot=\"content\" v-if=\"item.api_info\">\n              <span v-bind:key=\"api_index\" v-for=\"(api_item, api_index) in item.api_info\" @click=\"showApiDetail(api_item.hash)\" style=\"cursor:pointer\">\n                <Alert type=\"warning\" v-if=\"api_item.method === 0\">\n                  <h3>/api/{{api_item.hash_type === 1 ? api_item.api_class : api_item.hash}}</h3>\n                  <template slot=\"desc\">\n                    <Tag color=\"warning\">不限</Tag>\n                    {{api_item.info}}\n                  </template>\n                </Alert>\n                <Alert v-if=\"api_item.method === 2\">\n                  <h3>/api/{{api_item.hash_type === 1 ? api_item.api_class : api_item.hash}}</h3>\n                  <template slot=\"desc\">\n                    <Tag color=\"primary\">GET</Tag>\n                    {{api_item.info}}\n                  </template>\n                </Alert>\n                <Alert type=\"success\" v-if=\"api_item.method === 1\">\n                  <h3>/api/{{api_item.hash_type === 1 ? api_item.api_class : api_item.hash}}</h3>\n                  <template slot=\"desc\">\n                    <Tag color=\"success\">POST</Tag>\n                    {{api_item.info}}\n                  </template>\n                </Alert>\n              </span>\n            </p>\n            <p slot=\"content\" v-else style=\"text-align: center\">\n              <span>暂无接口</span>\n            </p>\n          </Panel>\n        </Collapse>\n        <ABackTop :height=\"100\" :bottom=\"80\" :right=\"60\" container=\".wiki-layout-con\"></ABackTop>\n      </div>\n    </Content>\n    <Footer class=\"wiki-footer-center\">&copy; Powered  By <Tag color=\"primary\">{{co}}</Tag></Footer>\n    <Drawer :title=\"api_detail.info\" v-model=\"show_detail\" width=\"820\" :mask-closable=\"false\" @on-close=\"closeDrawer\">\n      <Tabs type=\"card\">\n        <TabPane label=\"接口说明\">\n          <Form :label-width=\"80\">\n            <FormItem label=\"接口地址\">\n              <Tag v-if=\"api_detail.method === 1\" color=\"success\">POST</Tag>\n              <Tag v-if=\"api_detail.method === 2\" color=\"primary\">GET</Tag>\n              <Tag v-if=\"api_detail.method === 0\" color=\"warning\">不限</Tag> <Alert class=\"url\">{{url}}</Alert>\n            </FormItem>\n            <FormItem label=\"请求头部\">\n              <Table border :columns=\"header_columns\" :data=\"header_data\"></Table>\n            </FormItem>\n            <FormItem label=\"请求参数\">\n              <Table border :columns=\"request_columns\" :data=\"detail_info.request\"></Table>\n            </FormItem>\n            <FormItem label=\"返回参数\">\n              <Table border :columns=\"response_columns\" :data=\"detail_info.response\"></Table>\n            </FormItem>\n            <FormItem label=\"返回示例\" v-if=\"code\">\n              <div style=\"width: 100%\" v-highlight>\n                <pre><code>{{code}}</code></pre>\n              </div>\n            </FormItem>\n          </Form>\n        </TabPane>\n        <TabPane label=\"接口测试\">\n          <Card style=\"width:100%\">\n            <div style=\"text-align:center\">\n              <img width=\"120px\" src=\"https://cn.vuejs.org/images/logo.png\">\n              <h3>在线测试功能，即将到来</h3>\n            </div>\n          </Card>\n        </TabPane>\n      </Tabs>\n    </Drawer>\n  </Layout>\n</template>\n<script>\nimport './list.less'\nimport { apiGroup, detail, logout } from '@/api/wiki'\nimport { setToken } from '@/libs/util'\nimport ABackTop from '@/components/main/components/a-back-top'\n\nexport default {\n  name: 'wiki',\n  components: {\n    ABackTop\n  },\n  data () {\n    return {\n      show_detail: false,\n      show_loading: false,\n      app_id: sessionStorage.getItem('ApiAdmin_AppInfo'),\n      code: '',\n      url: '',\n      groupInfo: [],\n      header_columns: [\n        {\n          title: '参数名称',\n          key: 'field_name'\n        },\n        {\n          title: '类型',\n          render: (h, params) => {\n            return h('Tag', {\n              props: {\n                'color': 'blue'\n              }\n            }, this.detail_info.dataType[params.row.data_type])\n          }\n        },\n        {\n          title: '字段状态',\n          render: (h, params) => {\n            if (params.row.is_must === 1) {\n              return h('Tag', {\n                props: {\n                  'color': 'red'\n                }\n              }, '复杂认证')\n            } else {\n              return h('Tag', {\n                props: {\n                  'color': 'blue'\n                }\n              }, '简易认证')\n            }\n          }\n        },\n        {\n          title: '字段说明',\n          key: 'info',\n          width: 290,\n          render: (h, params) => {\n            let text = params.row.info.substring(0, 20) + '...'\n            if (params.row.info.length >= 20) {\n              return h('Tooltip', {\n                props: {\n                  transfer: true,\n                  maxWidth: 200\n                }\n              }, [\n                text,\n                h('div', {\n                  slot: 'content',\n                  style: {\n                    whiteSpace: 'normal',\n                    wordBreak: 'break-all',\n                    wordWrap: 'break-word'\n                  }\n                }, params.row.info)\n              ])\n            } else {\n              return h('span', params.row.info)\n            }\n          }\n        }\n      ],\n      request_columns: [\n        {\n          title: '字段名称',\n          key: 'field_name'\n        },\n        {\n          title: '类型',\n          width: 100,\n          render: (h, params) => {\n            return h('Tag', {\n              props: {\n                'color': 'blue'\n              }\n            }, this.detail_info.dataType[params.row.data_type])\n          }\n        },\n        {\n          title: '字段属性',\n          width: 100,\n          render: (h, params) => {\n            if (params.row.is_must === 1) {\n              return h('Tag', {\n                props: {\n                  'color': 'red'\n                }\n              }, '必填')\n            } else {\n              return h('Tag', {\n                props: {\n                  'color': 'orange'\n                }\n              }, '选填')\n            }\n          }\n        },\n        {\n          title: '默认值',\n          key: 'default'\n        },\n        {\n          title: '字段说明',\n          key: 'info',\n          width: 290,\n          render: (h, params) => {\n            let text = params.row.info.substring(0, 20) + '...'\n            if (params.row.info.length >= 20) {\n              return h('Tooltip', {\n                props: {\n                  transfer: true,\n                  maxWidth: 200\n                }\n              }, [\n                text,\n                h('div', {\n                  slot: 'content',\n                  style: {\n                    whiteSpace: 'normal',\n                    wordBreak: 'break-all',\n                    wordWrap: 'break-word'\n                  }\n                }, params.row.info)\n              ])\n            } else {\n              return h('span', params.row.info)\n            }\n          }\n        }\n      ],\n      response_columns: [\n        {\n          title: '字段名称',\n          key: 'show_name'\n        },\n        {\n          title: '类型',\n          render: (h, params) => {\n            return h('Tag', {\n              props: {\n                'color': 'blue'\n              }\n            }, this.detail_info.dataType[params.row.data_type])\n          }\n        },\n        {\n          title: '字段说明',\n          key: 'info',\n          width: 290,\n          render: (h, params) => {\n            let text = params.row.info.substring(0, 20) + '...'\n            if (params.row.info.length >= 20) {\n              return h('Tooltip', {\n                props: {\n                  transfer: true,\n                  maxWidth: 200\n                }\n              }, [\n                text,\n                h('div', {\n                  slot: 'content',\n                  style: {\n                    whiteSpace: 'normal',\n                    wordBreak: 'break-all',\n                    wordWrap: 'break-word'\n                  }\n                }, params.row.info)\n              ])\n            } else {\n              return h('span', params.row.info)\n            }\n          }\n        }\n      ],\n      detail_info: {},\n      api_detail: {},\n      header_data: [],\n      co: ''\n    }\n  },\n  created () {\n    this.getList()\n  },\n  methods: {\n    logout () {\n      let vm = this\n      logout().then(response => {\n        vm.$Message.success(response.data.msg)\n        setToken('')\n        sessionStorage.removeItem('ApiAdmin_AppInfo')\n        vm.$router.push({\n          name: 'wiki_login'\n        })\n      })\n    },\n    getList () {\n      let vm = this\n      apiGroup().then(response => {\n        vm.groupInfo = response.data.data.data\n        vm.co = response.data.data.co\n      })\n    },\n    closeDrawer () {\n      this.getList()\n    },\n    showApiDetail (hash) {\n      let vm = this\n      vm.show_loading = true\n      detail({\n        hash: hash\n      }).then(response => {\n        let res = response.data.data\n        vm.detail_info = res\n        vm.show_detail = true\n        vm.show_loading = false\n        vm.url = res.url\n        vm.api_detail = res.apiList\n        if (res.apiList.return_str) {\n          vm.code = JSON.parse(res.apiList.return_str)\n        }\n        vm.header_data = [{\n          is_must: res.apiList.access_token,\n          field_name: 'access-token',\n          info: 'APP认证秘钥【请在Header头里面传递】',\n          data_type: 2\n        }]\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/view/wiki"}]}